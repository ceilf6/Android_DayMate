# DayMate Monorepo é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„å®Œæˆ

å·²æˆåŠŸå°† DayMate ä»å•ä¸€ Android åº”ç”¨é‡æ„ä¸º Monorepo æ¶æ„ï¼Œæ”¯æŒï¼š
- âœ… Android åŸç”Ÿåº”ç”¨
- âœ… React Native è·¨å¹³å°åº”ç”¨
- âœ… å…±äº«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- âœ… æ¨¡å—åŒ–æ¶æ„è®¾è®¡

## ğŸ“Š æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DayMate Monorepo                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  Apps   â”‚                           â”‚   Shared   â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                      â”‚
  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚           â”‚                    â”‚                      â”‚
â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚Android â”‚ â”‚   RN   â”‚        â”‚   Core   â”‚        â”‚  UI-Android  â”‚
â”‚Calendarâ”‚ â”‚Calendarâ”‚        â”‚(Business)â”‚        â”‚ (Components) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚                   â–²                     â–²
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             (ä¾èµ–å…³ç³»ï¼šapps â†’ shared)
```

## ğŸ“ ç›®å½•ç»“æ„

```
DayMate/
â”œâ”€â”€ apps/                      # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ android-calendar/     # Android åŸç”Ÿ âœ…
â”‚   â””â”€â”€ rn-calendar/          # React Native âœ…
â”œâ”€â”€ shared/                   # å…±äº«å±‚
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒé€»è¾‘ âœ…
â”‚   â””â”€â”€ ui-android/           # UI ç»„ä»¶ âœ…
â”œâ”€â”€ docs/                     # æ–‡æ¡£ âœ…
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â”œâ”€â”€ DEVELOPMENT.md
â”‚   â”œâ”€â”€ MIGRATION.md
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md
â”‚   â””â”€â”€ QUICKSTART.md
â””â”€â”€ .github/workflows/        # CI/CD âœ…
```

## ğŸ”§ æ ¸å¿ƒé…ç½®æ–‡ä»¶

### Gradle é…ç½®

1. **settings.gradle.kts** - å¤šé¡¹ç›®é…ç½®
   ```kotlin
   include(":apps:android-calendar")
   include(":shared:core")
   include(":shared:ui-android")
   ```

2. **build.gradle.kts** - æ ¹é¡¹ç›®é…ç½®
   - é…ç½®äº† `android.application` å’Œ `android.library` æ’ä»¶

3. **gradle/libs.versions.toml** - ä¾èµ–ç‰ˆæœ¬ç®¡ç†
   - ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬

### React Native é…ç½®

1. **package.json** - é¡¹ç›®ä¾èµ–
2. **metro.config.js** - Metro bundler é…ç½®
3. **tsconfig.json** - TypeScript é…ç½®

## ğŸ“¦ æ¨¡å—è¯´æ˜

### shared/core

**èŒè´£**: è·¨å¹³å°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

**åŒ…å«**:
- `models/` - æ•°æ®æ¨¡å‹ï¼ˆCalendarEvent, LunarDateï¼‰
- `repository/` - æ•°æ®è®¿é—®æ¥å£ï¼ˆCalendarRepositoryï¼‰
- `utils/` - å·¥å…·ç±»ï¼ˆDateUtilsï¼‰
- `domain/` - ä¸šåŠ¡ç”¨ä¾‹ï¼ˆé¢„ç•™ï¼‰

**æŠ€æœ¯æ ˆ**: Kotlin, Room, Coroutines

### shared/ui-android

**èŒè´£**: Android UI ç»„ä»¶åº“

**åŒ…å«**:
- `components/` - å¯å¤ç”¨ç»„ä»¶ï¼ˆé¢„ç•™ï¼‰
- `adapters/` - RecyclerView é€‚é…å™¨ï¼ˆé¢„ç•™ï¼‰
- `utils/` - UI å·¥å…·ç±»ï¼ˆé¢„ç•™ï¼‰

**ä¾èµ–**: `shared:core`

### apps/android-calendar

**èŒè´£**: Android åŸç”Ÿåº”ç”¨

**å·²è¿ç§»**: 
- åŸæœ‰ `app/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
- æ›´æ–°äº†ä¾èµ–é…ç½®ä»¥ä½¿ç”¨å…±äº«æ¨¡å—

**ä¾èµ–**: `shared:core`, `shared:ui-android`

### apps/rn-calendar

**èŒè´£**: React Native è·¨å¹³å°åº”ç”¨

**åŒ…å«**:
- `src/screens/` - UI å±å¹•ï¼ˆHomeScreenï¼‰
- `src/components/` - React ç»„ä»¶
- `src/services/` - ä¸šåŠ¡æœåŠ¡ï¼ˆé¢„ç•™ï¼‰
- `android/` - Android åŸç”Ÿæ¡¥æ¥
- `ios/` - iOS åŸç”Ÿæ¡¥æ¥ï¼ˆé¢„ç•™ï¼‰

**æŠ€æœ¯æ ˆ**: React Native, TypeScript, React Navigation

## ğŸ¨ å·²åˆ›å»ºçš„ç¤ºä¾‹ä»£ç 

### Kotlin å…±äº«ä»£ç 

1. **CalendarModels.kt** - æ•°æ®æ¨¡å‹
   ```kotlin
   data class CalendarEvent(...)
   data class LunarDate(...)
   enum class CalendarViewType { MONTH, WEEK, DAY, AGENDA }
   ```

2. **DateUtils.kt** - æ—¥æœŸå·¥å…·
   ```kotlin
   object DateUtils {
     fun getDatesForMonthView(...)
     fun getDatesForWeekView(...)
     fun formatDate(...)
   }
   ```

3. **CalendarRepository.kt** - Repository æ¥å£
   ```kotlin
   interface CalendarRepository {
     suspend fun getEventsForDay(...)
     suspend fun createEvent(...)
     suspend fun updateEvent(...)
   }
   ```

### React Native ä»£ç 

1. **HomeScreen.tsx** - ä¸»å±å¹•
   - é›†æˆ `react-native-calendars`
   - æ—¥æœŸé€‰æ‹©å’Œäº‹ä»¶æ˜¾ç¤º

2. **App.tsx** - åº”ç”¨å…¥å£
   - React Navigation é…ç½®
   - æš—é»‘æ¨¡å¼æ”¯æŒ

## ğŸ“‹ å®Œæˆçš„ä»»åŠ¡

- [x] âœ… åˆ›å»º Monorepo ç›®å½•ç»“æ„
- [x] âœ… è¿ç§» Android åº”ç”¨åˆ° `apps/android-calendar`
- [x] âœ… åˆ›å»ºå…±äº«æ¨¡å— `shared/core`
- [x] âœ… åˆ›å»º UI ç»„ä»¶åº“ `shared/ui-android`
- [x] âœ… æ­å»º React Native åº”ç”¨éª¨æ¶
- [x] âœ… é…ç½® Gradle å¤šé¡¹ç›®æ„å»º
- [x] âœ… ç¼–å†™æ¶æ„æ–‡æ¡£
- [x] âœ… ç¼–å†™å¼€å‘æŒ‡å—
- [x] âœ… ç¼–å†™è¿ç§»æŒ‡å—
- [x] âœ… é…ç½® CI/CD å·¥ä½œæµ
- [x] âœ… æ›´æ–° .gitignore
- [x] âœ… æ›´æ–° README.md

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯åš

1. **éªŒè¯æ„å»º**
   ```bash
   ./gradlew build
   ```

2. **æµ‹è¯• Android åº”ç”¨**
   ```bash
   ./gradlew :apps:android-calendar:installDebug
   ```

3. **æµ‹è¯• React Native**
   ```bash
   cd apps/rn-calendar
   npm install
   npm run android
   ```

### çŸ­æœŸè®¡åˆ’ï¼ˆ1-2å‘¨ï¼‰

1. **è¿ç§»æ ¸å¿ƒä»£ç **
   - [ ] å°† Android åº”ç”¨ä¸­çš„æ•°æ®æ¨¡å‹è¿ç§»åˆ° `shared/core`
   - [ ] å°† Repository å®ç°è¿ç§»åˆ° `shared/core`
   - [ ] å°†å·¥å…·ç±»è¿ç§»åˆ° `shared/core`

2. **å®Œå–„å…±äº«æ¨¡å—**
   - [ ] å®ç° Room Database åœ¨ `shared/core`
   - [ ] å®ç°å†œå†è®¡ç®—é€»è¾‘
   - [ ] å®ç° ICS å¯¼å…¥/å¯¼å‡º

3. **å®Œå–„ React Native**
   - [ ] å®ç°å®Œæ•´çš„æœˆ/å‘¨/æ—¥è§†å›¾
   - [ ] å®ç°äº‹ä»¶åˆ›å»ºå’Œç¼–è¾‘
   - [ ] é›†æˆæœ¬åœ°å­˜å‚¨ï¼ˆSQLite/AsyncStorageï¼‰

### ä¸­æœŸè®¡åˆ’ï¼ˆ1-2æœˆï¼‰

1. **åŠŸèƒ½å¯¹é½**
   - [ ] ç¡®ä¿ä¸¤ä¸ªåº”ç”¨åŠŸèƒ½ä¸€è‡´
   - [ ] ç»Ÿä¸€ UI/UX è®¾è®¡è¯­è¨€

2. **æ€§èƒ½ä¼˜åŒ–**
   - [ ] ä¼˜åŒ–æ„å»ºé€Ÿåº¦
   - [ ] ä¼˜åŒ–åº”ç”¨æ€§èƒ½

3. **æµ‹è¯•è¦†ç›–**
   - [ ] å®Œå–„å•å…ƒæµ‹è¯•
   - [ ] æ·»åŠ é›†æˆæµ‹è¯•
   - [ ] æ·»åŠ  E2E æµ‹è¯•

### é•¿æœŸè§„åˆ’ï¼ˆ3-6æœˆï¼‰

1. **è·¨å¹³å°å¢å¼º**
   - [ ] æ¢ç´¢ Kotlin Multiplatform Mobile
   - [ ] å®Œå–„ iOS æ”¯æŒ

2. **DevOps**
   - [ ] å®Œå–„ CI/CD æµç¨‹
   - [ ] è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹
   - [ ] æ€§èƒ½ç›‘æ§å’Œåˆ†æ

3. **æ–‡æ¡£å’Œç¤¾åŒº**
   - [ ] å»ºç«‹ç»„ä»¶æ–‡æ¡£ç«™ç‚¹
   - [ ] ç¼–å†™è´¡çŒ®æŒ‡å—
   - [ ] å»ºç«‹å¼€å‘è€…ç¤¾åŒº

## ğŸ“ å…³é”®æ¦‚å¿µå›é¡¾

### Monorepo ä¼˜åŠ¿

1. **ä»£ç å¤ç”¨**: æ ¸å¿ƒé€»è¾‘åœ¨å¤šä¸ªåº”ç”¨é—´å…±äº«
2. **ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰ä»£ç åœ¨ä¸€ä¸ªä»“åº“ä¸­
3. **åŸå­æäº¤**: è·¨æ¨¡å—çš„æ›´æ”¹å¯ä»¥ä¸€æ¬¡æ€§æäº¤
4. **ç®€åŒ–ä¾èµ–**: ä¸éœ€è¦å‘å¸ƒå’Œç‰ˆæœ¬ç®¡ç†ä¸­é—´äº§ç‰©

### æ¨¡å—åŒ–åŸåˆ™

1. **å•ä¸€èŒè´£**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªé¢†åŸŸ
2. **ä½è€¦åˆ**: æ¨¡å—é—´ä¾èµ–æœ€å°åŒ–
3. **é«˜å†…èš**: æ¨¡å—å†…éƒ¨é€»è¾‘ç´§å¯†ç›¸å…³
4. **æ¸…æ™°æ¥å£**: ä½¿ç”¨æ¥å£å®šä¹‰æ¨¡å—è¾¹ç•Œ

### ä¾èµ–æ–¹å‘

```
åº”ç”¨å±‚ (apps)
    â†“ ä¾èµ–
å…±äº«å±‚ (shared)
```

- âœ… åº”ç”¨å¯ä»¥ä¾èµ–å…±äº«æ¨¡å—
- âŒ å…±äº«æ¨¡å—ä¸èƒ½ä¾èµ–åº”ç”¨
- âŒ åº”ç”¨ä¹‹é—´ä¸èƒ½ç›¸äº’ä¾èµ–

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£

- [æ¶æ„æ–‡æ¡£](./docs/ARCHITECTURE.md)
- [å¼€å‘æŒ‡å—](./docs/DEVELOPMENT.md)
- [è¿ç§»æŒ‡å—](./docs/MIGRATION.md)
- [å¿«é€Ÿå¼€å§‹](./docs/QUICKSTART.md)
- [é¡¹ç›®ç»“æ„](./docs/PROJECT_STRUCTURE.md)

### é—®é¢˜æ’æŸ¥

1. æŸ¥çœ‹ `docs/QUICKSTART.md` ä¸­çš„å¸¸è§é—®é¢˜
2. è¿è¡Œ `./gradlew --help` äº†è§£ Gradle å‘½ä»¤
3. æ£€æŸ¥ CI/CD å·¥ä½œæµé…ç½®ä½œä¸ºå‚è€ƒ

### ç¤¾åŒº

- æäº¤ Issue
- åˆ›å»º Pull Request
- å‚ä¸è®¨è®º

## âœ¨ æ€»ç»“

DayMate ç°åœ¨æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Monorepo é¡¹ç›®ï¼Œå…·å¤‡ï¼š

- ğŸ—ï¸ **æ¸…æ™°çš„æ¶æ„**: åº”ç”¨å±‚å’Œå…±äº«å±‚åˆ†ç¦»
- ğŸ”„ **ä»£ç å¤ç”¨**: æ ¸å¿ƒé€»è¾‘ç»Ÿä¸€ç®¡ç†
- ğŸ“± **å¤šå¹³å°æ”¯æŒ**: Android åŸç”Ÿ + React Native
- ğŸ“š **å®Œæ•´æ–‡æ¡£**: ä»æ¶æ„åˆ°å¼€å‘çš„å…¨æ–¹ä½æŒ‡å—
- ğŸš€ **CI/CD**: è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•

è¿™ä¸ºæœªæ¥çš„æ‰©å±•å’Œç»´æŠ¤æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ï¼

---

**é‡æ„å®Œæˆæ—¶é—´**: 2025å¹´12æœˆ16æ—¥
**æ¶æ„è®¾è®¡**: Monorepo + æ¨¡å—åŒ–
**æ”¯æŒå¹³å°**: Android Native, React Native (iOS/Android)
